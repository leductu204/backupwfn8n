{
  "active": true,
  "connections": {
    "Telegram Trigger": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Telegram",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets1": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets2": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "xAI Grok Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-04-24T09:52:16.905Z",
  "id": "NsLhz4fp9ZuDHGfC",
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "Bot Xe T·∫£i - L√™ Qu·ªëc H√πng",
  "nodes": [
    {
      "parameters": {
        "updates": [
          "message"
        ],
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegramTrigger",
      "typeVersion": 1.1,
      "position": [
        0,
        0
      ],
      "id": "f2d201a6-152a-47e0-9a49-7897e65ff868",
      "name": "Telegram Trigger",
      "webhookId": "56c97d63-b880-4f3a-a4d4-1d1cb2713cd1",
      "credentials": {
        "telegramApi": {
          "id": "IdrrCPMQtILmnfj3",
          "name": "B√°o Gi√° Xe T·∫£i"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.message.text }}",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "B·∫°n l√† 1 nh√¢n vi√™n th√¢n thi·ªán t∆∞ v·∫•n - b√°o gi√° d·ªãch v·ª• xe t·∫£i - xe cont (container) cho kh√°ch h√†ng. H√£y lu√¥n m·ªü ƒë·∫ßu b·∫±ng c√¢u h·ªèi kh√°ch h√†ng mu·ªën ƒë·∫∑t xe t·ª´ n∆°i ƒëi - n∆°i ƒë·∫øn v√† x√°c nh·∫≠n l·∫°i n∆°i ƒëi - n∆°i ƒë·∫øn tr∆∞·ªõc khi b√°o gi√° , lo·∫°i xe g√¨ (xe t·∫£i x T·∫•n ho·∫∑c xe cont - container 20 feet, 40 feet). H√£y tr·∫£ l·ªùi d·ª±a theo nhu c·∫ßu kh√°ch h√†ng cung c·∫•p. \nB·∫°n ƒëang trong m·ªôt cu·ªôc h·ªôi tho·∫°i li√™n t·ª•c, h√£y ghi nh·ªõ nh·ªØng g√¨ kh√°ch h√†ng ƒë√£ n√≥i ƒë·ªÉ tr·∫£ l·ªùi n·ªëi ti·∫øp h·ª£p l√Ω. N·∫øu kh√°ch ch·ªâ n√≥i ƒë·ªãa ƒëi·ªÉm ƒë·∫øn ho·∫∑c lo·∫°i xe, h√£y ki·ªÉm tra th√¥ng tin tr∆∞·ªõc ƒë√≥ ƒë·ªÉ suy lu·∫≠n v√† ti·∫øp t·ª•c b√°o gi√° ho·∫∑c h·ªèi l·∫°i ƒë·ªÉ x√°c nh·∫≠n ch√≠nh x√°c th√¥ng tin. \n\nxe cont c≈©ng l√† xe container. \nXe t·∫£i ƒë∆°n v·ªã tr·ªçng l∆∞·ª£ng l√† T·∫•n (T) t√≠nh ti·ªÅn theo c·ªôt T·∫•n, xe cont ƒë∆°n v·ªã tr·ªçng l∆∞·ª£ng l√† feet. T√≠nh ti·ªÅn theo gi√° tr·ªã Feet\nTr·∫£ l·ªùi ng·∫Øn g·ªçn, x√∫c t√≠ch, d·ªÖ hi·ªÉu.\nüî∏ V·ªõi xe t·∫£i:\n- Gi√° ch∆∞a VAT\n- Ch·ªâ g·ªìm ph√≠ v·∫≠n chuy·ªÉn\n- Gi·ªù v√†o TP: Xe 1T, 2T (09h-16h & 20h-06h); xe >2T (22h-06h)\n- Nh·∫≠n bu·ªïi ƒë√™m ph·ª• thu +200k\n\nüî∏ V·ªõi xe container:\n- Gi√° ch∆∞a VAT\n- Ch·ªâ g·ªìm ph√≠ v·∫≠n chuy·ªÉn\n- H·∫° xa B√¨nh D∆∞∆°ng, ƒê·ªìng Nai: +300k\n- Q7 ph·ª• thu: +400k/chi·ªÅu\n\nN·∫øu tuy·∫øn ƒë∆∞·ªùng kh√°ch h·ªèi ch∆∞a c√≥ gi√° trong d·ªØ li·ªáu th√¨ b√°o v·ªõi kh√°ch ch∆∞a c√≥ gi√°, h√£y li√™n h·ªá th√¥ng tin : henry.hung@sotrans.com.vn - SDT 0775943316.\nƒê∆°n v·ªã ti·ªÅn l√† K, v√≠ d·ª• 900 -> 900K",
          "maxIterations": 10
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.8,
      "position": [
        220,
        0
      ],
      "id": "0ed9e45f-6410-43cd-b248-25476e7ed548",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1Ejjl9G0O0x_CJGmYEiV-H_URkfyzLI_M-iHxlBudG8o",
          "mode": "list",
          "cachedResultName": "B√°o gi√°",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Ejjl9G0O0x_CJGmYEiV-H_URkfyzLI_M-iHxlBudG8o/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1713519982,
          "mode": "list",
          "cachedResultName": "Gi√° LCL",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Ejjl9G0O0x_CJGmYEiV-H_URkfyzLI_M-iHxlBudG8o/edit#gid=1713519982"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.5,
      "position": [
        460,
        200
      ],
      "id": "31e0292a-e03c-47e3-9ced-e1d3e2f60db0",
      "name": "Google Sheets",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "YoIXrvHkddxXAEp7",
          "name": "Google Sheets account 2"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "contextWindowLength": 10
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        300,
        220
      ],
      "id": "9a5923bf-0c4a-447b-b5df-6d8aefbfaad6",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.from.id }}",
        "text": "={{ $json.output }}",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        580,
        0
      ],
      "id": "1f0ec50e-db7e-495a-aa75-cdc26bbe6ecd",
      "name": "Telegram",
      "webhookId": "5c9b4da7-4cd3-4e6e-ad71-85449594e8d9",
      "credentials": {
        "telegramApi": {
          "id": "IdrrCPMQtILmnfj3",
          "name": "B√°o Gi√° Xe T·∫£i"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1Ejjl9G0O0x_CJGmYEiV-H_URkfyzLI_M-iHxlBudG8o",
          "mode": "list",
          "cachedResultName": "B√°o gi√°",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Ejjl9G0O0x_CJGmYEiV-H_URkfyzLI_M-iHxlBudG8o/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 675864141,
          "mode": "list",
          "cachedResultName": "Xe Cont",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Ejjl9G0O0x_CJGmYEiV-H_URkfyzLI_M-iHxlBudG8o/edit#gid=675864141"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.5,
      "position": [
        580,
        200
      ],
      "id": "d366dd21-f402-435f-92f8-57006856cfb3",
      "name": "Google Sheets1",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "YoIXrvHkddxXAEp7",
          "name": "Google Sheets account 2"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1Ejjl9G0O0x_CJGmYEiV-H_URkfyzLI_M-iHxlBudG8o",
          "mode": "list",
          "cachedResultName": "B√°o gi√°",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Ejjl9G0O0x_CJGmYEiV-H_URkfyzLI_M-iHxlBudG8o/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1713519982,
          "mode": "list",
          "cachedResultName": "Xe T·∫£i",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1Ejjl9G0O0x_CJGmYEiV-H_URkfyzLI_M-iHxlBudG8o/edit#gid=1713519982"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {},
          "matchingColumns": [],
          "schema": [
            {
              "id": "N∆†I ƒêI",
              "displayName": "N∆†I ƒêI",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "N∆†I ƒê·∫æN",
              "displayName": "N∆†I ƒê·∫æN",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Gi√° xe 1 T·∫•n",
              "displayName": "Gi√° xe 1 T·∫•n",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Gi√° xe 2 T·∫•n",
              "displayName": "Gi√° xe 2 T·∫•n",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Gi√° xe 3.5 T·∫•n",
              "displayName": "Gi√° xe 3.5 T·∫•n",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Gi√° xe 5 T·∫•n",
              "displayName": "Gi√° xe 5 T·∫•n",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Gi√° xe 8 T·∫•n",
              "displayName": "Gi√° xe 8 T·∫•n",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "10T",
              "displayName": "10T",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.5,
      "position": [
        800,
        200
      ],
      "id": "dd60caac-66cc-4239-b487-9ab18286c051",
      "name": "Google Sheets2",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "YoIXrvHkddxXAEp7",
          "name": "Google Sheets account 2"
        }
      }
    },
    {
      "parameters": {
        "model": "grok-3-fast-beta",
        "options": {
          "responseFormat": "json_object"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatXAiGrok",
      "typeVersion": 1,
      "position": [
        180,
        220
      ],
      "id": "4b8bf92d-90a9-42ef-8a2d-6ab2cb059a73",
      "name": "xAI Grok Chat Model",
      "credentials": {
        "xAiApi": {
          "id": "r4vGbfq9f7pTNS4F",
          "name": "xAi account"
        }
      }
    }
  ],
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [],
  "triggerCount": 1,
  "updatedAt": "2025-04-24T16:55:35.000Z",
  "versionId": "b59ca73d-6f54-4943-a034-759fa208d6ed"
}